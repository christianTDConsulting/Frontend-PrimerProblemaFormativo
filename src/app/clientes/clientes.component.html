
<h1> Clientes</h1>



<div *ngIf="clientes.length === 0; else clienteList">
    <p>No hay Clientes todavía.</p>
  </div>


<ng-template #clienteList>
<div class ="card">
    <p-table 
    [value]="clientes"
    #dt2
    dataKey="id"
    [rows]="7"
    [showCurrentPageReport]="true"
    [rowsPerPageOptions]="[7, 14, 21]"
    [paginator]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [globalFilterFields]="['id', 'nombre']"
    [tableStyle]="{ 'min-width': '75rem' }"
    
    >
   

        <ng-template pTemplate="header">
           
            <tr>
                <th pSortableColumn="id" style="width:25%">Id <p-sortIcon field="id"></p-sortIcon></th>
                <th pSortableColumn="nombre" style="width:25%">Nombre <p-sortIcon field="nombre"></p-sortIcon></th>
                <th style="width:25%">Teléfonos</th>
                <th style="width:25%">Opciones</th>
               
                
            </tr>
            <tr>
                <th>
                    <p-columnFilter type="text" field="id"></p-columnFilter>
                    
                </th>
                <th>
                    <p-columnFilter type="text" field="nombre"></p-columnFilter>
                </th>
                <th></th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-clientes>
            <tr>
                <td>{{ clientes.id }}</td>
               
                <td>
                    <input type="text" [value]="clientes.nombre" pInputText (keyup.enter)="editarClientes(clientes.id, clientes.nombre)" style="border: none;" [(ngModel)]="clientes.nombre" [id]="'editarCliente' + clientes.id">
                </td>
    
                <td><p-button label="Ver Teléfonos" [routerLink]= "['/telefonos', clientes.id]" routerLinkActive="router-link-active"></p-button></td>
                <td><!--<p-button label="Editar" ></p-button> <span style="margin: 0 8px;"></span> --> <p-button label="Borrar" (onClick)="borrarUsuario(clientes.id)" ></p-button></td>
                
    
            </tr>
        </ng-template>
    </p-table>
    

</div>

</ng-template>

<h2>Añadir nuevo usuario</h2>


<input type="text" [placeholder]="'John Doe'" pInputText  [(ngModel)]="nuevoNombre" id = "nuevoNombre" (keyup.enter)="crearUsuario()"/>
<span style="margin: 0 8px;"></span> 
<p-button label="Nuevo" (click)="crearUsuario()"></p-button>
