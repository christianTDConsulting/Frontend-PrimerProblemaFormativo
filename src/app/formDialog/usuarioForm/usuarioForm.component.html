<p-toast key="data"></p-toast>

<form [formGroup]="profileForm">
  <!--si el estado es indefinido estamos en el rol de admin, en caso de que el clienteId sea distinto de indefinido, queremos editar-->
  <div  *ngIf="state !== undefined || (state ===  undefined && clienteId === undefined) ; else editar">
    <p-card header="Registro" [style]="{ width: '600px' }">
      <div class="p-grid">
          <div class="p-col">
            <div class="box mu-5 my-5">
            
              <span class="p-float-label">
                <input type="text"  pInputText formControlName = "nombre" [id]="'nombre'">
                <label>Nombre *</label>
              </span>
              
              
            </div>
          </div>
  
          <div class="p-col">
            <div class="box mb-5">
              <span class="p-float-label">
                <input type="text"  pInputText  formControlName = "email" [id]="'email'">
                <label >Email *</label>
              </span>
            </div>
  
            <div class="p-col">
              <div class="box mb-5">
                <span class="p-float-label"> <!-- Faltan form de contraseñas-->
                  <input type="text"  pInputText   [id]="'email'">
                  <label >Contraseña *</label>
                </span>
              </div>
            </div>
  
            <div class="p-col">
              <div class="box mb-5">
                  <span class="p-float-label">
                    <input type="text"  pInputText  [id]="'email'">
                    <label >Confirma contraseña *</label>
                  </span>
              </div>
            </div>
            
          </div>
          <div class="p-col">
            <div class="box mb-3">
  
              <span class="p-float-label">
                <textarea id="float-input" rows="5" cols="30" pInputTextarea  formControlName = "bio"  ></textarea>
                <label >Biografía</label>
              </span>
  
  
            </div>
  
          </div>
          <div class="p-col">
            
            Fecha de nacimiento *
            <div class="box mb-5">
              
              <p-calendar [showIcon]="true" [inline]="true" view="date" [showWeek]="true" formControlName="nacimiento"></p-calendar>
  
            <!--  (onSelect)="updateDate()" -->
            </div>
          </div>
  
        
  
         
            
          
            
          <div class="p-col">
            <div class="box mb-5">
            <span class="p-float-label">
              <p-inputMask mask="999-999-999" placeholder="999-999-999" type="text" pKeyFilter="int "    formControlName="telefono"  [id]="'nuevoTelefono'"/> 
              <label >Añade un teléfono</label>
            </span>
            </div>
          </div>

            <div>
              <p-button label="Crear " (click)="crearUsuario()" severity="success"></p-button>
            </div>
            
          </div>

          <ng-template ngIf="clienteId === undefined" >
            
            <div class="mt-2" >Tienes cuenta? 
              <p-button label="Iniciar Sesión" severity="plain" (onClick)="goToLogin()"></p-button> 
            </div>
          </ng-template>
  
      
            
          
         
        
    </p-card>
    
  </div>
    
    <ng-template #editar>
      <p-card header="Editar" [style]="{ width: '600px' }">
        <div class="p-grid">
            <div class="p-col">
                <div class="box mu-5 my-5">
                
                  <span class="p-float-label">
                    <input type="text"  pInputText formControlName = "nombre" [id]="'nombre'">
                    <label>Nombre *</label>
                  </span>
                  
                  
                </div>
              </div>
      
              <div class="p-col">
                <div class="box mb-5">
                  <span class="p-float-label">
                    <input type="text"  pInputText  formControlName = "email" [id]="'email'">
                    <label >Email *</label>
                  </span>
                </div>
              </div>

              <div class="p-col">
                <div class="box mb-3">
      
                  <span class="p-float-label">
                    <textarea id="float-input" rows="5" cols="30" pInputTextarea  formControlName = "bio"  ></textarea>
                    <label >Biografía</label>
                  </span>
      
      
                </div>
      
              </div>
              <div class="p-col">
                
                Fecha de nacimiento *
                <div class="box mb-5">
                  
                  <p-calendar [showIcon]="true" [inline]="true" view="date" [showWeek]="true" formControlName="nacimiento"></p-calendar>
      
                <!--  (onSelect)="updateDate()" -->
                </div>
              </div>
      
              <div>
                  
                <p-button label="Editar" (click)="editarUsuario()" severity="success"></p-button>
                
              </div> 
            </div>
        
      </p-card>
    </ng-template>
  
</form>
